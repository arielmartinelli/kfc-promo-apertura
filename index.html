<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KFC | Promo Apertura 50% OFF</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        :root { --kfc-red: #E4002B; --kfc-dark: #202020; }
        body { font-family: 'Roboto', sans-serif; background-color: #f8f9fa; overflow-x: hidden; }
        div:where(.swal2-container) { z-index: 20000 !important; }
        #fake-promo { height: 100vh; background: white; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: fixed; top: 0; left: 0; width: 100%; z-index: 9999; transition: transform 0.8s cubic-bezier(0.86, 0, 0.07, 1); padding: 20px; }
        .brand-logo { font-family: 'Oswald', sans-serif; font-size: 3rem; color: var(--kfc-dark); font-weight: 700; letter-spacing: -1px; margin-bottom: 20px; }
        .brand-logo span { color: var(--kfc-red); }
        .promo-card { padding: 20px; max-width: 500px; width: 100%; }
        .promo-img { width: 100%; border-radius: 15px; box-shadow: 0 10px 30px rgba(228, 0, 43, 0.2); margin-bottom: 20px; }
        #real-content { display: none; background: linear-gradient(135deg, #fff5f5 0%, #ffffff 100%); min-height: 100vh; padding: 20px; flex-direction: column; justify-content: center; }
        .apology-step { display: none; text-align: center; max-width: 600px; margin: 0 auto; padding: 20px; width: 100%; }
        .apology-step.active { display: block; }
        .emoji-icon { font-size: 4rem; margin-bottom: 20px; display: block; }
        h2 { font-family: 'Oswald', sans-serif; color: var(--kfc-dark); font-size: 2rem; margin-bottom: 1rem; }
        p { color: #555; line-height: 1.6; font-size: 1.1rem; margin-bottom: 2rem; }
        .btn-kfc, .btn-next { background-color: var(--kfc-red); color: white; font-family: 'Oswald', sans-serif; text-transform: uppercase; font-size: 1.1rem; padding: 15px 30px; border-radius: 50px; border: none; width: 100%; max-width: 300px; margin: 5px 0; transition: transform 0.2s; cursor: pointer; }
        .btn-kfc:active, .btn-next:active { transform: scale(0.98); }
        .btn-container { display: flex; flex-direction: column; gap: 15px; align-items: center; justify-content: center; width: 100%; }
        @media (min-width: 768px) { .btn-container { flex-direction: row; } }
        .btn-forgive { background-color: #28a745; } .btn-not-yet { background-color: #dc3545; }
        .btn-lunch { background-color: #E4002B; } .btn-dinner { background-color: #0d6efd; }
        .final-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; flex-direction: column; justify-content: center; align-items: center; text-align: center; z-index: 20001; padding: 20px; }
        #final-lunch { background: var(--kfc-red); color: white; }
        #final-dinner { background: #1a1a2e; color: white; }
        .final-screen h1 { font-family: 'Oswald', sans-serif; font-size: 3rem; margin-bottom: 20px; }
        .couple-img { width: 100%; max-width: 400px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .btn-whatsapp { background-color: #25D366; color: white; font-family: 'Oswald', sans-serif; text-transform: uppercase; font-size: 1.1rem; padding: 15px 30px; border-radius: 50px; border: none; width: 100%; max-width: 300px; margin: 10px 0; transition: transform 0.2s; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; text-decoration: none; }
        .btn-whatsapp:hover { background-color: #1ebe57; color: white; }
        .btn-whatsapp i { font-size: 1.5rem; }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="fake-promo">
        <div class="brand-logo">KFC <span>PROMO</span></div>
        <div class="promo-card">
            <img src="https://static.promodescuentos.com/threads/raw/eaHjT/935469_1/re/768x768/qt/60/935469_1.jpg" alt="KFC DuoBox" class="promo-img">
            <h1 class="h3 fw-bold mb-3">¬°Felicidades! üéâ</h1>
            <p class="text-muted mb-4">Ten√©s un <strong>50% OFF</strong> en el nuevo DuoBox Recargado.</p>
            <button class="btn btn-kfc" id="btn-claim">CANJEAR AHORA</button>
            <p class="mt-3 small text-muted">Oferta por tiempo limitado.</p>
        </div>
    </div>

    <div id="real-content" style="display: none;">
        <div class="apology-step active animate__animated animate__fadeIn" id="step1">
            <span class="emoji-icon">üòî</span>
            <h2>Primero: Perd√≥n</h2>
            <p>S√© que anoche met√≠ la pata. No fuimos a comer KFC como quer√≠amos y te hice perder tiempo. Lo siento mucho.</p>
            <button class="btn btn-next" onclick="nextStep(2)">¬øMe dejas explicarte?</button>
        </div>
        <div class="apology-step animate__animated animate__fadeIn" id="step2">
            <span class="emoji-icon">üé≤</span>
            <h2>¬øQu√© pas√≥?</h2>
            <p>Se me pas√≥ el tiempo con los chicos. Cuando me dijeron de quedarme, pens√© en invitarte <strong>no para cancelar nuestro plan</strong>, sino porque iban a jugar juegos de mesa. Pens√©: <em>"A Jazm√≠n le encantan los juegos de mesa, la vamos a pasar genial"</em>. Pero ejecut√© mal y te hice enojar. Mala m√≠a.</p>
            <button class="btn btn-next" onclick="nextStep(3)">Entiendo, ¬øy ahora?</button>
        </div>
        <div class="apology-step animate__animated animate__fadeIn" id="step3">
            <span class="emoji-icon">üçó</span>
            <h2>La soluci√≥n...</h2>
            <p>No quer√≠a que te quedes con las ganas de tu KFC. Pero quiero que elijas t√∫ c√≥mo arreglamos esto.</p>
            <button class="btn btn-next" onclick="nextStep(4)">Ver propuesta</button>
        </div>
        <div class="apology-step animate__animated animate__fadeIn" id="step4">
            <span class="emoji-icon">üôè</span>
            <h2>¬øMe perdonas, Jazm√≠n?</h2>
            <p>Te prometo que la pr√≥xima salida la planeamos juntos y sin fallos.</p>
            <div class="btn-container">
                <button class="btn btn-next btn-forgive" onclick="startForgivenessLoop(true)">S√≠, te perdono</button>
                <button class="btn btn-next btn-not-yet" onclick="startForgivenessLoop(false)">Mmm, no s√©...</button>
            </div>
        </div>
        <div class="apology-step animate__animated animate__fadeIn" id="step5">
            <span class="emoji-icon">ü§î‚ù§Ô∏è</span>
            <h2>Para cerrar el trato...</h2>
            <p>¬øQu√© prefer√≠s hacer ahora?</p>
            <div class="btn-container">
                <button class="btn btn-next btn-lunch" onclick="showFinal('lunch')">KFC para Almorzar YA üçó</button>
                <button class="btn btn-next btn-dinner" onclick="showFinal('dinner')">Cena Rom√°ntica esta Noche üç∑</button>
            </div>
        </div>
    </div>
    
    <div id="final-lunch" class="final-screen animate__animated animate__zoomInDown">
        <span class="emoji-icon">üõµüí®</span>
        <h1>¬°HECHO!</h1>
        <p>Voy pidiendo el KFC ya mismo.</p>
        <p class="mt-4"><strong>Prep√°rate que comemos rico.</strong></p>
        <a href="#" class="btn btn-whatsapp" onclick="sendWhatsApp('lunch')"><i class="fab fa-whatsapp"></i> Confirmar por WhatsApp</a>
    </div>

    <div id="final-dinner" class="final-screen animate__animated animate__fadeInUp">
        <h1 class="mb-4">SE REPITE ESTO</h1>
        <img src="image.png" alt="Pareja con mascarillas" class="couple-img">
        <p class="mt-4 mb-4" style="font-size: 1.3rem;">¬øQu√© vemos?</p>
        <div class="btn-container">
            <button class="btn btn-next" onclick="sendWhatsApp('dinner_pirates')">Seguimos viendo Piratas del Caribe üè¥‚Äç‚ò†Ô∏è</button>
            <button class="btn btn-next" onclick="sendWhatsApp('dinner_other')">Vemos otra peli que elijas vos üé¨</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        let currentStep = 1; let noCount = 0; const maxNos = 7;
        const noMessages = ["¬øSegura? ¬°Mir√° que tengo hambre! ü•∫", "¬øDe verdad? ¬°Pero si soy un amor! ü•∂", "¬°Por favor! ¬°Prometo no mirar el reloj la pr√≥xima! üï∞Ô∏è", "¬°Daleee! ¬°No seas mala! üò≠", "¬°Te quiero mucho! ¬øUn poquito de perd√≥n? ü§è", "¬°Porfi porfi porfi! üôèüôèüôè", "¬°Ya casi me perdonas, lo siento! ü•∞"];
        function nextStep(step) {
            const current = document.getElementById(`step${currentStep}`);
            current.classList.remove('animate__fadeIn'); current.classList.add('animate__fadeOut');
            setTimeout(() => { current.classList.remove('active', 'animate__fadeOut'); const next = document.getElementById(`step${step}`); next.classList.add('active', 'animate__fadeIn'); currentStep = step; }, 500);
        }
        document.getElementById('btn-claim').addEventListener('click', function() {
            Swal.fire({ title: 'Un momento...', text: 'En realidad, esto no es un cup√≥n de descuento.', icon: 'info', confirmButtonColor: '#E4002B', confirmButtonText: '¬øEntonces qu√© es?', allowOutsideClick: false }).then((result) => {
                if (result.isConfirmed) { document.getElementById('fake-promo').style.transform = 'translateY(-100%)'; const content = document.getElementById('real-content'); content.style.display = 'flex'; }
            });
        });
        function startForgivenessLoop(initialYes) { if (initialYes) confirmForgiveness(1); else loopNo(); }
        function loopNo() {
            if (noCount < maxNos) { Swal.fire({ title: noMessages[noCount], icon: 'question', showCancelButton: true, confirmButtonColor: '#28a745', cancelButtonColor: '#dc3545', confirmButtonText: 'Bueno, s√≠ te perdono', cancelButtonText: 'Todav√≠a no...', allowOutsideClick: false }).then((result) => { if (result.isConfirmed) confirmForgiveness(1); else { noCount++; loopNo(); } }); }
            else { Swal.fire({ title: '¬°Ya basta! ¬°Me perdonas s√≠ o s√≠! üòÇ', icon: 'warning', confirmButtonColor: '#28a745', confirmButtonText: '¬°Est√° bien, pesado! Te perdono.' }).then(() => confirmForgiveness(1)); }
        }
        function confirmForgiveness(stage) {
            let title, text, confirmBtn;
            if(stage === 1) { title = '¬øDe verdad? üòç'; text = 'Me haces feliz.'; confirmBtn = '¬°S√≠!'; } else if(stage === 2) { title = '¬øSegur√≠sima? üíñ'; text = '¬°No juegues conmigo!'; confirmBtn = '¬°Que s√≠!'; } else { title = '¬°Promesa de me√±ique! ü§ô'; text = '¬øEstamos bien?'; confirmBtn = '¬°S√ç, AVANZA!'; }
            Swal.fire({ title: title, text: text, icon: 'success', confirmButtonColor: '#28a745', confirmButtonText: confirmBtn, allowOutsideClick: false }).then(() => { if (stage < 3) confirmForgiveness(stage + 1); else nextStep(5); });
        }
        function showFinal(choice) { document.getElementById('real-content').style.display = 'none'; document.getElementById(`final-${choice}`).style.display = 'flex'; }
        function sendWhatsApp(type) {
            let message = "";
            if (type === 'lunch') { message = "¬°Hola! Ya vi tu p√°gina. Te perdono y quiero el KFC para almorzar ahora. üçóüõµ"; }
            else if (type === 'dinner_pirates') { message = "¬°Hola! Te perdono. Esta noche se repite la foto de las mascarillas y seguimos viendo Piratas del Caribe. üè¥‚Äç‚ò†Ô∏èüé¨"; }
            else if (type === 'dinner_other') { message = "¬°Hola! Te perdono. Esta noche se repite la foto de las mascarillas, pero yo elijo la peli. üé¨üçø"; }
            window.location.href = `https://wa.me/3516121498?text=${encodeURIComponent(message)}`;
        }
    </script>
</body>
</html>